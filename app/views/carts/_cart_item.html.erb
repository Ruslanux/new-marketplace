<%= tag.div id: dom_id(item), class: "grid grid-cols-12 items-center gap-4 p-4" do %>

  <%# Column 1: Image %>
  <div class="col-span-2">
    <% if item.product.images.attached? %>
      <%= image_tag item.product.images.first, class: "w-24 h-24 object-cover rounded-lg" %>
    <% else %>
      <div class="w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center">
        <span class="text-xs text-gray-500">No Image</span>
      </div>
    <% end %>
  </div>

  <%# Column 2: Product Info %>
  <div class="col-span-4">
    <h3 class="font-semibold text-gray-900"><%= item.product.name %></h3>
    <p class="text-sm text-gray-600">by <%= item.product.user.full_name %></p>
  </div>

  <%# Column 3: Quantity Updater %>
  <div class="col-span-3">
    <%= form_with url: cart_path, method: :patch, class: "flex items-center" do |f| %>
      <%= f.hidden_field :cart_item_id, value: item.id %>
      <label for="quantity_<%= item.id %>" class="sr-only">Quantity</label>
      <%= f.number_field :quantity, id: "quantity_#{item.id}", value: item.quantity, min: 1, class: "w-16 text-center border-gray-300 rounded-md shadow-sm" %>
      <%= f.submit "Update", class: "ml-3 px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer" %>
    <% end %>
  </div>

  <%# Column 4: Total Price %>
  <div class="col-span-2 text-right">
    <p class="font-semibold text-gray-900"><%= number_to_currency(item.total_price) %></p>
  </div>

  <%# Column 5: Remove Button %>
  <div class="col-span-1 text-right">
    <%= button_to remove_from_cart_path(item.product), method: :delete, class: "text-gray-500 hover:text-red-600", form_class: "inline-block" do %>
      <span class="sr-only">Remove</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
      </svg>
    <% end %>
  </div>

<% end %>